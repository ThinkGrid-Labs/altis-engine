    Updating crates.io index
 Downloading crates ...
  Downloaded arcstr v1.2.0
  Downloaded allocator-api2 v0.2.21
  Downloaded const-random v0.1.18
  Downloaded errno v0.3.14
  Downloaded axum-core v0.5.6
  Downloaded futures-task v0.3.31
  Downloaded md-5 v0.10.6
  Downloaded lazy_static v1.5.0
  Downloaded generic-array v0.14.7
  Downloaded dlv-list v0.5.2
  Downloaded itoa v1.0.17
  Downloaded idna_adapter v1.2.1
  Downloaded home v0.5.12
  Downloaded heck v0.5.0
  Downloaded find-msvc-tools v0.1.9
  Downloaded convert_case v0.6.0
  Downloaded concurrent-queue v2.5.0
  Downloaded cmake v0.1.57
  Downloaded autocfg v1.5.0
  Downloaded hashlink v0.10.0
  Downloaded num-conv v0.2.0
  Downloaded http-body-util v0.1.3
  Downloaded futures-channel v0.3.31
  Downloaded parking v2.2.1
  Downloaded matchers v0.2.0
  Downloaded tower-service v0.3.3
  Downloaded dotenvy v0.15.7
  Downloaded const-oid v0.9.6
  Downloaded axum-macros v0.5.0
  Downloaded tower-layer v0.3.3
  Downloaded icu_provider v2.1.1
  Downloaded pathdiff v0.2.3
  Downloaded typeid v1.0.3
  Downloaded untrusted v0.9.0
  Downloaded flume v0.11.1
  Downloaded utf8_iter v1.0.4
  Downloaded version_check v0.9.5
  Downloaded toml_datetime v0.7.5+spec-1.1.0
  Downloaded sha1_smol v1.0.1
  Downloaded tracing-log v0.2.0
  Downloaded tokio-macros v2.6.0
  Downloaded toml_parser v1.0.7+spec-1.1.0
  Downloaded scopeguard v1.2.0
  Downloaded base64 v0.22.1
  Downloaded zerofrom-derive v0.1.6
  Downloaded combine v4.6.7
  Downloaded xxhash-rust v0.8.15
  Downloaded icu_properties v2.1.2
  Downloaded writeable v0.6.2
  Downloaded whoami v1.6.1
  Downloaded tracing-attributes v0.1.31
  Downloaded log v0.4.29
  Downloaded icu_locale_core v2.1.1
  Downloaded unicode-properties v0.1.4
  Downloaded futures-intrusive v0.5.0
  Downloaded serde_spanned v1.0.4
  Downloaded yoke-derive v0.8.1
  Downloaded zeroize v1.8.2
  Downloaded ucd-trie v0.1.7
  Downloaded toml v0.9.12+spec-1.1.0
  Downloaded zerovec-derive v0.11.2
  Downloaded tracing-core v0.1.36
  Downloaded icu_normalizer v2.1.1
  Downloaded icu_collections v2.1.1
  Downloaded powerfmt v0.2.0
  Downloaded icu_normalizer_data v2.1.1
  Downloaded hyper-util v0.1.20
  Downloaded stable_deref_trait v1.2.1
  Downloaded yoke v0.8.1
  Downloaded pin-utils v0.1.0
  Downloaded der v0.7.10
  Downloaded toml_edit v0.23.10+spec-1.0.0
  Downloaded percent-encoding v2.3.2
  Downloaded tinyvec_macros v0.1.1
  Downloaded zerofrom v0.1.6
  Downloaded webpki-roots v0.26.11
  Downloaded tokio-stream v0.1.18
  Downloaded zmij v1.0.20
  Downloaded sync_wrapper v1.0.2
  Downloaded cc v1.2.55
  Downloaded bytes v1.11.1
  Downloaded serde_urlencoded v0.7.1
  Downloaded matchit v0.8.4
  Downloaded jsonwebtoken v10.3.0
  Downloaded typenum v1.19.0
  Downloaded time-core v0.1.8
  Downloaded unicode-bidi v0.3.18
  Downloaded subtle v2.6.1
  Downloaded sqlx-macros v0.8.6
  Downloaded headers v0.4.1
  Downloaded getrandom v0.3.4
  Downloaded axum-extra v0.12.5
  Downloaded indexmap v2.13.0
  Downloaded rand_chacha v0.3.1
  Downloaded lock_api v0.4.14
  Downloaded litemap v0.8.1
  Downloaded aho-corasick v1.1.4
  Downloaded hmac v0.12.1
  Downloaded getrandom v0.2.17
  Downloaded config v0.15.19
  Downloaded potential_utf v0.1.4
  Downloaded mime v0.3.17
  Downloaded iana-time-zone v0.1.65
  Downloaded httparse v1.10.1
  Downloaded uuid v1.20.0
  Downloaded crossbeam-utils v0.8.21
  Downloaded anyhow v1.0.101
  Downloaded event-listener v5.4.1
  Downloaded deranged v0.5.6
  Downloaded futures-executor v0.3.31
  Downloaded bitflags v2.10.0
  Downloaded base64ct v1.8.3
  Downloaded pest_meta v2.8.6
  Downloaded num-iter v0.1.45
  Downloaded foldhash v0.1.5
  Downloaded thiserror-impl v2.0.18
  Downloaded spki v0.7.3
  Downloaded erased-serde v0.4.9
  Downloaded num_enum v0.7.5
  Downloaded num_enum_derive v0.7.5
  Downloaded ordered-multimap v0.7.3
  Downloaded num-integer v0.1.46
  Downloaded http v1.4.0
  Downloaded either v1.15.0
  Downloaded signal-hook-registry v1.4.8
  Downloaded displaydoc v0.2.5
  Downloaded digest v0.10.7
  Downloaded byteorder v1.5.0
  Downloaded httpdate v1.0.3
  Downloaded http-body v1.0.1
  Downloaded serde_path_to_error v0.1.20
  Downloaded rust-ini v0.21.3
  Downloaded futures-macro v0.3.31
  Downloaded json5 v0.4.1
  Downloaded hex v0.4.3
  Downloaded quote v1.0.44
  Downloaded thread_local v1.1.9
  Downloaded simple_asn1 v0.6.3
  Downloaded pem-rfc7468 v0.7.0
  Downloaded proc-macro-crate v3.4.0
  Downloaded headers-core v0.3.0
  Downloaded futures-sink v0.3.31
  Downloaded form_urlencoded v1.2.2
  Downloaded futures-io v0.3.31
  Downloaded futures-core v0.3.31
  Downloaded sha1 v0.10.6
  Downloaded pin-project-lite v0.2.16
  Downloaded stringprep v0.1.5
  Downloaded rustversion v1.0.22
  Downloaded synstructure v0.13.2
  Downloaded sha2 v0.10.9
  Downloaded pkg-config v0.3.32
  Downloaded time-macros v0.2.27
  Downloaded signature v2.2.0
  Downloaded thiserror v2.0.18
  Downloaded rand_core v0.6.4
  Downloaded serde-untagged v0.1.9
  Downloaded nu-ansi-term v0.50.3
  Downloaded crypto-common v0.1.7
  Downloaded async-trait v0.1.89
  Downloaded pkcs8 v0.10.2
  Downloaded slab v0.4.12
  Downloaded tiny-keccak v2.0.2
  Downloaded arraydeque v0.5.1
  Downloaded equivalent v1.0.2
  Downloaded crunchy v0.2.4
  Downloaded crossbeam-queue v0.3.12
  Downloaded crc-catalog v2.4.0
  Downloaded crc v3.4.0
  Downloaded cpufeatures v0.2.17
  Downloaded sqlx-macros-core v0.8.6
  Downloaded const-random-macro v0.1.16
  Downloaded cfg-if v1.0.4
  Downloaded zerotrie v0.2.3
  Downloaded yaml-rust2 v0.10.4
  Downloaded block-buffer v0.10.4
  Downloaded atomic-waker v1.1.2
  Downloaded atoi v2.0.0
  Downloaded once_cell v1.21.3
  Downloaded hashbrown v0.16.1
  Downloaded url v2.5.8
  Downloaded spin v0.9.8
  Downloaded pkcs1 v0.7.5
  Downloaded tinystr v0.8.2
  Downloaded tower v0.5.3
  Downloaded ppv-lite86 v0.2.21
  Downloaded pest_generator v2.8.6
  Downloaded parking_lot v0.12.5
  Downloaded idna v1.1.0
  Downloaded hashbrown v0.15.5
  Downloaded proc-macro2 v1.0.106
  Downloaded unicode-segmentation v1.12.0
  Downloaded libm v0.2.16
  Downloaded futures-util v0.3.31
  Downloaded shlex v1.3.0
  Downloaded rustls-pki-types v1.14.0
  Downloaded hashbrown v0.14.5
  Downloaded icu_properties_data v2.1.2
  Downloaded axum v0.8.8
  Downloaded unicode-normalization v0.1.25
  Downloaded tokio-util v0.7.18
  Downloaded pem v3.0.6
  Downloaded tower-http v0.6.8
  Downloaded serde_derive v1.0.228
  Downloaded parking_lot_core v0.9.12
  Downloaded socket2 v0.6.2
  Downloaded hyper v1.8.1
  Downloaded pest_derive v2.8.6
  Downloaded hkdf v0.12.4
  Downloaded ryu v1.0.23
  Downloaded smallvec v1.15.1
  Downloaded sharded-slab v0.1.7
  Downloaded zerovec v0.11.5
  Downloaded serde_core v1.0.228
  Downloaded tinyvec v1.10.0
  Downloaded unicode-ident v1.0.23
  Downloaded chrono v0.4.43
  Downloaded sqlx-mysql v0.8.6
  Downloaded tracing-subscriber v0.3.22
  Downloaded winnow v0.7.14
  Downloaded serde v1.0.228
  Downloaded rustls-webpki v0.103.9
  Downloaded rsa v0.9.10
  Downloaded webpki-roots v1.0.6
  Downloaded sqlx-sqlite v0.8.6
  Downloaded memchr v2.8.0
  Downloaded rand v0.8.5
  Downloaded vcpkg v0.2.15
  Downloaded num-traits v0.2.19
  Downloaded zerocopy v0.8.39
  Downloaded sqlx-core v0.8.6
  Downloaded pest v2.8.6
  Downloaded mio v1.1.1
  Downloaded ron v0.12.0
  Downloaded num-bigint-dig v0.8.6
  Downloaded num-bigint v0.4.6
  Downloaded sqlx-postgres v0.8.6
  Downloaded rdkafka v0.39.0
  Downloaded serde_json v1.0.149
  Downloaded tracing v0.1.44
  Downloaded sqlx v0.8.6
  Downloaded time v0.3.47
  Downloaded syn v2.0.114
  Downloaded redis v1.0.3
  Downloaded rustls v0.23.36
  Downloaded libc v0.2.181
  Downloaded regex-syntax v0.8.9
  Downloaded tokio v1.49.0
  Downloaded libz-sys v1.1.23
  Downloaded regex-automata v0.4.14
  Downloaded encoding_rs v0.8.35
  Downloaded ring v0.17.14
  Downloaded rdkafka-sys v4.10.0+2.12.1
  Downloaded libsqlite3-sys v0.30.1
    Checking tokio-stream v0.1.18
warning: unused imports: `Deserialize` and `Serialize`
 --> altis-shared/src/models/events.rs:1:13
  |
1 | use serde::{Deserialize, Serialize};
  |             ^^^^^^^^^^^  ^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: `altis-shared` (lib) generated 1 warning (run `cargo fix --lib -p altis-shared` to apply 1 suggestion)
    Checking sqlx-core v0.8.6
    Checking sqlx-postgres v0.8.6
    Checking sqlx v0.8.6
    Checking altis-store v0.1.0 (/app/altis-store)
    Checking altis-api v0.1.0 (/app/altis-api)
warning: unused import: `HeaderValue`
 --> altis-api/src/lib.rs:5:20
  |
5 |     http::{Method, HeaderValue},
  |                    ^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `std::sync::Arc`
  --> altis-api/src/lib.rs:11:5
   |
11 | use std::sync::Arc;
   |     ^^^^^^^^^^^^^^

warning: unused import: `IntoResponse`
 --> altis-api/src/holds.rs:4:16
  |
4 |     response::{IntoResponse, sse::{Event, Sse}},
  |                ^^^^^^^^^^^^

warning: unused import: `Serialize`
 --> altis-api/src/holds.rs:8:26
  |
8 | use serde::{Deserialize, Serialize};
  |                          ^^^^^^^^^

warning: unused import: `response::IntoResponse`
 --> altis-api/src/auth.rs:4:5
  |
4 |     response::IntoResponse,
  |     ^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `altis_core::repository::FlightRepository`
 --> altis-api/src/state.rs:4:5
  |
4 | use altis_core::repository::FlightRepository;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `http::StatusCode` and `response::IntoResponse`
 --> altis-api/src/search.rs:4:5
  |
4 |     response::IntoResponse,
  |     ^^^^^^^^^^^^^^^^^^^^^^
...
7 |     http::StatusCode,
  |     ^^^^^^^^^^^^^^^^

warning: unused imports: `Duration` and `sleep`
 --> altis-api/src/worker.rs:2:19
  |
2 | use tokio::time::{sleep, Duration};
  |                   ^^^^^  ^^^^^^^^

error[E0308]: mismatched types
   --> altis-api/src/holds.rs:125:13
    |
125 | /             async move {
126 | |                 match result {
127 | |                     Ok(event) if event.flight_id == flight_id => {
128 | |                         Some(Ok(Event::default().data(serde_json::to_string(&event).unwrap())))
...   |
132 | |             }
    | |_____________^ expected `Option<_>`, found `async` block
    |
    = note:       expected enum `std::option::Option<_>`
            found `async` block `{async block@altis-api/src/holds.rs:125:13: 125:23}`
help: try wrapping the expression in `Some`
    |
125 ~             Some(async move {
126 |                 match result {
...
131 |                 }
132 ~             })
    |

warning: unused variable: `key`
  --> altis-api/src/worker.rs:73:13
   |
73 |         let key = format!("flight:{}:availability", flight_id);
   |             ^^^ help: if this is intentional, prefix it with an underscore: `_key`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

For more information about this error, try `rustc --explain E0308`.
warning: `altis-api` (lib) generated 9 warnings
error: could not compile `altis-api` (lib) due to 1 previous error; 9 warnings emitted
