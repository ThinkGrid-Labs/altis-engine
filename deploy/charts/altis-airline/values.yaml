# Default values for altis-airline.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 3

image:
  repository: gcr.io/thinkgrid-labs/altis-engine
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: "latest"

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

# Airline Specific Configuration
airline:
  id: "" # Should be provided on install
  code: "" # e.g., 'SQ'
  name: ""
  subdomain: "" # e.g., 'singapore'

# Infrastructure Isolation
database:
  host: "postgres-service"
  port: 5432
  name: "altis"
  user: "altis"
  password: "password"
  sslmode: "disable"

redis:
  url: "redis://redis-service:6379"

kafka:
  brokers: "kafka-service:9092"

# Security
auth:
  jwtSecret: "change-me-in-production"
  jwtExpirationSeconds: 3600

service:
  type: ClusterIP
  port: 80

ingress:
  enabled: true
  className: "nginx"
  annotations:
    kubernetes.io/ingress.class: nginx
    # cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    - host: airline.altis-engine.com
      paths:
        - path: /
          pathType: ImplementationSpecific

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi

autoscaling:
  enabled: true
  minReplicas: 3
  maxReplicas: 10
  targetCPUUtilizationPercentage: 80
